function _objectWithoutProperties(e, t) { if (null == e) return {}; var n, r, o = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var a = Object.getOwnPropertySymbols(e); for (r = 0; r < a.length; r++)n = a[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n]) } return o } function _objectWithoutPropertiesLoose(e, t) { if (null == e) return {}; var n, r, o = {}, a = Object.keys(e); for (r = 0; r < a.length; r++)n = a[r], t.indexOf(n) >= 0 || (o[n] = e[n]); return o } !function () { var e = window.videojs; function t(e) { var t = $("#" + e.id()), n = t.find("video"), r = 90 == e.currentRotation || 270 == e.currentRotation; if (t[0]) { var o = t[0].getBoundingClientRect(), a = o.width, i = o.height, s = n[0] || {}, l = s.videoWidth, u = void 0 === l ? 0 : l, c = s.videoHeight, d = void 0 === c ? 0 : c; if (u && d) { var p = u / d >= 1; t.toggleClass("vjs-landscape", p).toggleClass("vjs-portrait", !p) } e.isFullscreen() ? n.css({ width: "", height: "", top: "", left: "" }) : n.css({ width: (r ? i : a) + "px", height: (r ? a : i) + "px", top: "unset", left: "unset" }) } } window.RenderVideoCamTV = function (e) { var t = e.id, n = _objectWithoutProperties(e, ["id"]), r = "CTV_VIDEO_" + t; return $("#".concat(t)).html('<video-js id="'.concat(r, '" data-embed="default" class="video-js ctvVideo" data-application-id controls playsinline></video-js>')), new PlayerManager({ id: r, ...n }) }, window.PlayerManager = function (o) { var a = o.id, i = o.videoURL, s = o.posterURL, l = o.fnOnInit, u = o.HideControls, c = o.SmallControls, d = o.ShowRotation, p = o.ShowVideoFit, f = this; function y(e, t, n) { var r = new XMLHttpRequest; r.open("HEAD", e), r.setRequestHeader("cache-control", "no-cache, must-revalidate, post-check=0, pre-check=0"), r.setRequestHeader("cache-control", "max-age=0"), r.setRequestHeader("pragma", "no-cache"), r.onreadystatechange = function () { if (this.readyState == this.DONE) { if (this.status >= 200 && this.status < 300) return t(); n(this.status) } }, r.send() } return f.player = null, f.eventListeners = { onready: null, onerror: null, onplay: null, onpause: null, onended: null, onbuffering: null }, f.destroy = function () { f.player && f.player.dispose && f.player.dispose(), f.removeEvents() }, f.playVideo = function (e) { null != f.player && (f.player.play(), null != e && (f.player.on("loadeddata", function (t) { f.player.currentTime(e) }), f.player.currentTime(e))) }, f.pauseVideo = function () { null != f.player && f.player.pause() }, f.setMute = function (e) { null != f.player && f.player.muted(e) }, f.getStateVideo = function () { return null == f.player ? "not_ready" : 1 == f.player.hasStarted_ && 0 == f.player.paused() && 0 == f.player.bufferedPercent() ? "buffering" : 1 == f.player.hasStarted_ && 0 == f.player.paused() ? "playing" : 1 == f.player.hasStarted_ && 1 == f.player.paused() ? "paused" : f.player.ended() ? "ended" : "not_ready" }, f.getBufferPercent = function () { return null == f.player || null == f.player.bufferedPercent ? 0 : f.player.bufferedPercent() }, f.getVideoDuration = function () { return null == f.player || null == f.player.bufferedPercent ? 0 : f.player.duration() }, f.getVideoCurrentTime = function () { return null == f.player || null == f.player.bufferedPercent ? 0 : f.player.currentTime() }, f.getFullscreen = function () { return null != f.player && null != f.player.isFullscreen && f.player.isFullscreen() }, f.setFullscreen = function (e) { if (null == f.player || null == f.player.requestFullscreen || null == f.player.exitFullscreen) return !1; e ? f.player.requestFullscreen() : f.player.exitFullscreen() }, f.eventsAdded = !1, f.addEvents = function () { f.eventsAdded || (f.eventsAdded = !0, "function" == typeof f.eventListeners.onready && f.player.ready(f.eventListeners.onready), f.player.on("error", function (e) { var t = f.player.error(), n = t ? t.code : 0; "function" == typeof f.eventListeners.onerror && f.eventListeners.onerror(n) }), f.player.on("play", function () { "function" == typeof f.eventListeners.onplay && f.eventListeners.onplay() }), f.player.on("pause", function () { "function" == typeof f.eventListeners.onpause && f.eventListeners.onpause() }), f.player.on("ended", function () { "function" == typeof f.eventListeners.onended && f.eventListeners.onended() }), f.player.on("buffering", function () { "function" == typeof f.eventListeners.onbuffering && f.eventListeners.onbuffering() }), f.player.on("timeupdate", function () { "function" == typeof f.eventListeners.ontimeupdate && f.eventListeners.ontimeupdate() })) }, f.removeEvents = function () { f.eventsAdded = !1, f.player && f.player.off() }, function (e, t, n) { null == e || "" == e.trim() ? n() : e.indexOf(".m3u8") > -1 ? t(e) : y(e, function () { t(e) }, function (r) { if (401 != r) return n(); var o = e + "?" + Math.random().toString(36).substring(7); y(o, function () { t(o) }, function () { n() }) }) }(i, function (o) { if ("undefined" != typeof getCookie) { var i = window.getCookie("SKEY"); e.Hls.xhr.beforeRequest = function (e) { e.headers && (e.headers.auth = i) } } var y; f.player = e(a, { controlBar: { volumePanel: { inline: !1, vertical: !1 } } }), s && f.player.poster(s), y = a, e.getPlayer(y).ready(function () { var e = this, t = e.addChild("button"); t.addClass("vjs-mute-control"), t.addClass("ctv-custom-control"), t.handleClick = function () { e.muted(!e.muted()), e.el_.autoplayed = !1 }, t.disable(), t.enable() }), c && document.getElementById(a).parentNode.classList.add("small-controls"), d && function (n) { e.getPlayer(n).ready(function () { var e = this, n = e.$(".vjs-control-bar"), r = e.$(".vjs-fullscreen-control"), o = $('\n\t\t\t\t<button class="vjs-rotate-control vjs-control vjs-button" type="button" title="Rotate" aria-disabled="false" style="">\n\t\t\t\t\t<i class="mdi mdi-screen-rotation" aria-hidden="true"></i>\n\t\t\t\t\t<span class="vjs-control-text" aria-live="polite" style="">Rotate</span>\n\t\t\t\t</button>\n\t\t\t'); n.insertBefore(o[0], r), e.currentRotation = 0, o.on("click", function (n) { n.stopPropagation(), function (e) { var n = e.currentRotation + 90 == 360 ? 360 : (e.currentRotation + 90) % 360; e.currentRotation = n, function (e) { var n = $("#" + e.id()); n.find("video").css({ transition: "transform 0.3s ease", transform: "rotateZ(" + e.currentRotation + "deg)" }).off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd").one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd", function (t) { $(t.currentTarget).css({ transition: "none" }), 360 === e.currentRotation && ($(t.currentTarget).css({ transform: "rotateZ(0deg)" }), e.currentRotation = 0) }), t(e); var r = 90 == e.currentRotation || 270 == e.currentRotation; n.toggleClass("vjs-rotated", r) }(e) }(e) }), e.on("fullscreenchange", function () { t(e) }), window.addEventListener("resize", function () { t(e) }) }) }(a), function (t) { e.getPlayer(t).ready(function () { r(this) }) }(a), p && function (t) { e.getPlayer(t).ready(function () { var e = this, t = e.$(".vjs-control-bar"), o = e.$(".vjs-fullscreen-control"), a = $('\n\t\t\t\t<button class="vjs-fit-control vjs-control vjs-button" type="button" title="Video fit" aria-disabled="false">\n\t\t\t\t\t<i class="mdi mdi-stretch-to-page" aria-hidden="true"></i>\n\t\t\t\t\t<span class="vjs-control-text" aria-live="polite">Video fit</span>\n\t\t\t\t</button>\n\t\t\t'); t.insertBefore(a[0], o), a.on("click", function (t) { t.stopPropagation(), r(e) }), e.on("fullscreenchange", function () { (e.isFullscreen() && e.currentFit == n.COVER || !e.isFullscreen() && e.currentFit == n.CONTAIN) && r(e) }) }) }(a), u ? function (t) { e.getPlayer(t).ready(function () { var e = this; e.el().parentNode.classList.add("hide-controls"); var t = e.addChild("button"); t.addClass("vjs-fullscreen-control"), t.addClass("ctv-custom-control"), t.handleClick = function () { e.isFullscreen() ? e.exitFullscreen() : e.requestFullscreen() }, t.disable(), t.enable() }) }(a) : (function (t) { e.getPlayer(t).ready(function () { var e, t, n = this, r = document.createElement("div"), o = document.createElement("div"); r.setAttribute("class", "vjs-control ctv-custom-btn"), r.style["background-image"] = "url(https://www.cam.tv/assets/images/video-player/30-rewind.svg)", o.setAttribute("class", "vjs-control ctv-custom-btn"), o.style["background-image"] = "url(https://www.cam.tv/assets/images/video-player/30-forward.svg)", e = n.$(".vjs-control-bar"), t = n.$(".vjs-volume-panel"), e.insertBefore(r, t), e.insertBefore(o, t), r.addEventListener("click", function (e) { e.stopPropagation(); var t, r = n.currentTime(); t = r >= 30 ? r - 30 : 0, n.currentTime(t) }), o.addEventListener("click", function (e) { e.stopPropagation(); var t, r = n.currentTime(), o = n.duration(); t = r + 30 <= o ? r + 30 : o, n.currentTime(t) }) }) }(a), function (t) { e.getPlayer(t).ready(function () { var e = this.el_.getElementsByClassName("vjs-picture-in-picture-control")[0]; e && e.remove() }) }(a)), "function" == typeof l && setTimeout(function () { l() }, 0); var v = "video/mp4"; function m(e) { e.preventDefault(), e.stopPropagation(), f.player.el_.autoplayed && (f.player.el_.autoplayed = !1, f.player.muted(!1)), f.player.paused() ? f.player.play() : f.player.pause() } o.indexOf(".m3u8") > -1 && (v = "application/x-mpegURL"), f.player.src({ src: o, type: v }), f.player.tech_.off("touchend"), f.player.tech_.off("touchstart"), f.player.tech_.off("mouseup"), f.player.tech_.off("mousedown"), f.player.tech_.off("tap"), f.player.tech_.off("click"), f.player.tech_.on("mouseup", m), f.player.tech_.on("tap", m), f.player.bigPlayButton.off(), f.player.bigPlayButton.on("mouseup", m), f.player.bigPlayButton.on("tap", m) }, function () { document.getElementById(a).classList.add("vjs-error"), "function" == typeof f.eventListeners.onerror && f.eventListeners.onerror(6) }), f }; var n = { COVER: 0, CONTAIN: 1 }; function r(e) { var t = e.currentFit === n.COVER ? n.CONTAIN : n.COVER; e.currentFit = t, function (e) { var t = $("#" + e.id()), r = e.$(".vjs-control-bar"), o = $(r).find(".vjs-fit-control"); e.currentFit == n.COVER ? (t.addClass("vjs-cover"), t.find("video").css({ "object-fit": "cover" }), o.find("i").addClass("mdi-stretch-to-page").removeClass("mdi-stretch-to-page-outline")) : e.currentFit == n.CONTAIN && (t.removeClass("vjs-cover"), t.find("video").css({ "object-fit": "contain" }), o.find("i").removeClass("mdi-stretch-to-page").addClass("mdi-stretch-to-page-outline")) }(e) } }();