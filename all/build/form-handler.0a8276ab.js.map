{"version":3,"sources":["assets/js/conf.js","assets/js/form-handler.js"],"names":["host","window","location","hostname","currrentLocation","indexOf","protocol","port","Sets","CamTVServer","OTO1","OTO1_PurchaseUI_Timeout","OTO2","OTO2_PurchaseUI_Timeout","ThankYou","currentTab","showTab","n","x","document","getElementsByClassName","style","display","getElementById","length","innerHTML","fixStepIndicator","nextPrev","validateForm","nomefr","prodotto","value","emailfr","addressfr","cittafr","capfr","telfr","nazfr","selezionato","checked","CTVPay","OneClickPayment","Pay","res","split","nome","cognome","callAdLead","y","i","valid","getElementsByTagName","className","ml","mlck","localeCompare","classList","add","replace","tot","toggle","restart","player","setCurrentTime","then","seconds","catch","error","name","setVolume","volume","dataMese","month","Array","d","Date","getMonth"],"mappings":"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","file":"form-handler.0a8276ab.js","sourceRoot":"..","sourcesContent":["\nvar host = window.location.hostname;\n\nvar currrentLocation = \"https://www.internetcreaindipendenza.it\";\nif (host.indexOf(\"github\") != -1)\n    currrentLocation = \"https://camtv.github.io/funnel/all/build\";\nelse if (host.indexOf(\"127.0.0.1\") != -1 || host.indexOf(\"localhost\") != -1)\n    currrentLocation = location.protocol + '//' + location.hostname +\":\"+ location.port;\n\n\nvar Sets = {\n    CamTVServer: 'https://www.testcam.tv',\n    OTO1: currrentLocation+'/oto1.html',\n    OTO1_PurchaseUI_Timeout: 10000, //743000,\n    OTO2: currrentLocation+'/oto2.html',\n    OTO2_PurchaseUI_Timeout: 508000,\n    ThankYou: currrentLocation+'/thankyou.html'\n}\n\n\n\n\nexport default Sets;\nwindow.Sets = Sets;","import Sets from \"./conf.js\"\n\n/***************************************************** gestione form *********************/\n\nvar currentTab = 0; // Current tab is set to be the first tab (0)\nfunction showTab(n) {\n    // This function will display the specified tab of the form ...\n    var x = document.getElementsByClassName(\"tab\");\n    x[n].style.display = \"block\";\n    // ... and fix the Previous/Next buttons:\n    if (n == 0) {\n        document.getElementById(\"prevBtn\").style.display = \"none\";\n    } else {\n        document.getElementById(\"prevBtn\").style.display = \"inline\";\n    }\n    if (n == (x.length - 1)) {\n        document.getElementById(\"nextBtn\").innerHTML = \"SPEDISCI IL MIO LIBRO ADESSO!<br><span class='txt-btn'>100% pagamento sicuro</span>\";\n    } else {\n        document.getElementById(\"nextBtn\").innerHTML = \"<i class='fas fa-shipping-fast'></i> Inviamelo GRATIS!<br><span class='txt-btn'>Partecipa all'offerta speciale.</span>\";\n    }\n    // ... and run a function that displays the correct step indicator:\n    fixStepIndicator(n)\n}\n\nfunction nextPrev(n) {\n    // This function will figure out which tab to display\n    var x = document.getElementsByClassName(\"tab\");\n    // Exit the function if any field in the current tab is invalid:\n    if (n == 1 && !validateForm()) return false;\n    // Hide the current tab:\n    x[currentTab].style.display = \"none\";\n    // Increase or decrease the current tab by 1:\n    currentTab = currentTab + n;\n\n    // if you have reached the end of the form... :\n    if (currentTab >= x.length) {\n        //...the form gets submitted:\n        ///////////////////////////////////////////////////////////////////////////////////////////// CHIAMATA API CAM.TV\n        // *** IMPORTANTE: rimosso submit del form per evitare ricaricamento della pagina ***\n        // document.getElementById(\"regForm\").submit();\n\n        var nomefr = document.getElementById(\"name\").value;\n        var emailfr = document.getElementById(\"email\").value;\n        var addressfr = document.getElementById(\"address\").value;\n        var cittafr = document.getElementById(\"citta\").value;\n        var capfr = document.getElementById(\"cap\").value;\n        var telfr = document.getElementById(\"tel\").value;\n        var nazfr = document.getElementById(\"naz\").value;\n\n        // assegna id prodotto in base a checkbox\n        var prodotto;\n        var selezionato = document.getElementById(\"offerta\").checked;\n        if(selezionato) {\n            switch(nazfr) {\n                case \"ITA\":\n                    prodotto = \"FUNNEL_BUMP\"\n                    break;\n                default:\n                    prodotto = \"FUNNEL_BUMP_NO_ITA\"\n            }\n        } else {\n            switch(nazfr) {\n                case \"ITA\":\n                    prodotto = \"FUNNEL_BOOK\"\n                    break;\n                default:\n                    prodotto = \"FUNNEL_BOOK_NO_ITA\"\n            }\n        }\n\n        CTVPay.OneClickPayment = true;\n        CTVPay.Pay(prodotto, Sets.OTO1, null, null, {\n                \"FirstName\": nomefr, // obbligatorio\n                \"LastName\": \" \", // obbligatorio\n                \"EMail\": emailfr, // obbligatorio\n                \"CountryISOCode\": nazfr, // obbligatorio es: \"ITA\"\n                \"Address\": addressfr,\n                \"City\": cittafr,\n                \"Zip\": capfr,\n                \"MobileNumber\": telfr\n            }\n        );\n\n        ///////////////////////////////////////////////////////////////////////////////////////////// FINE CHIAMATA\n        return false;\n    }\n\n///////////////////////////////////////////////////////////////////////////////////////////// CHIAMATA ADLEAD\n\n    // prima conferma dati\n\n    var nomefr = document.getElementById(\"name\").value;\n    var emailfr = document.getElementById(\"email\").value;\n    var res = nomefr.split(\" \");\n    var nome = res[0];\n    var cognome = res[1];\n\n    callAdLead(emailfr, nome, cognome);\n    //alert(\"passo\");\n\n    // Otherwise, display the correct tab:\n    showTab(currentTab);\n}\n\nfunction validateForm() {\n    // This function deals with validation of the form fields\n    var x, y, i, valid = true;\n    x = document.getElementsByClassName(\"tab\");\n    y = x[currentTab].getElementsByTagName(\"input\");\n    // A loop that checks every input field in the current tab:\n    for (i = 0; i < y.length; i++) {\n        // If a field is empty...\n        if (y[i].value == \"\") {\n            // add an \"invalid\" class to the field:\n            y[i].className += \" invalid\";\n            // and set the current valid status to false:\n            valid = false;\n        }\n    }\n\n    // controllo email\n    var ml = document.getElementById(\"email\").value;\n    var mlck = document.getElementById(\"emailck\").value;\n    var result = ml.localeCompare(mlck);\n    if (result !=0) {\n        document.getElementById(\"emailck\").value = \"la mail non corrisponde\";\n        document.getElementById(\"emailck\").classList.add(\"invalid\");\n        valid = false;\n    }\n    // fine controllo email\n\n    // If the valid status is true, mark the step as finished and valid:\n    if (valid) {\n        document.getElementsByClassName(\"step\")[currentTab].className += \" finish\";\n    }\n    return valid; // return the valid status\n}\n\nfunction fixStepIndicator(n) {\n    // This function removes the \"active\" class of all steps...\n    var i, x = document.getElementsByClassName(\"tabs\");\n    for (i = 0; i < x.length; i++) {\n        x[i].className = x[i].className.replace(\" attiva\", \"\");\n    }\n    //... and adds the \"active\" class to the current step:\n    x[n].className += \" attiva\";\n}\n\n// classe controllo visibilitÃ  prezzo totale\nfunction tot() {\n    var element = document.getElementById(\"totale\");\n    element.classList.toggle(\"hidden\");\n    var element2 = document.getElementById(\"totalone\");\n    element2.classList.toggle(\"hidden\");\n}\n\n\n\nfunction restart() {\n\n    player.setCurrentTime(0).then(function(seconds) {\n        // `seconds` indicates the actual time that the player seeks to\n    }).catch(function(error) {\n        switch (error.name) {\n            case 'RangeError':\n                // The time is less than 0 or greater than the video's duration\n                break;\n\n            default:\n                // Some other error occurred\n                break;\n        }\n    });\n    player.setVolume(0.5).then(function(volume) {\n        // The volume is set\n    }).catch(function(error) {\n        switch (error.name) {\n            case 'RangeError':\n                // The volume is less than 0 or greater than 1\n                break;\n\n            default:\n                // Some other error occurred\n                break;\n        }\n    });\n\n    var element = document.getElementById(\"btn-overlay\");\n    element.classList.add(\"cela\");\n\n}\n\n/*********************************************** gestione mese attuale offerta ****************************/\n\nfunction dataMese() {\n    var month = new Array();\n    month[0] = \"Gennaio\";\n    month[1] = \"Febbraio\";\n    month[2] = \"Marzo\";\n    month[3] = \"Aprile\";\n    month[4] = \"Maggio\";\n    month[5] = \"Giugno\";\n    month[6] = \"Luglio\";\n    month[7] = \"Agosto\";\n    month[8] = \"Settembre\";\n    month[9] = \"Ottobre\";\n    month[10] = \"Novembre\";\n    month[11] = \"Dicembre\";\n\n    var d = new Date();\n    var n = month[d.getMonth()];\n    document.getElementById(\"mese\").innerHTML = n;\n}\n\n\n\nwindow.dataMese=dataMese;\n\nwindow.showTab = showTab;\nwindow.nextPrev = nextPrev;\nwindow.validateForm = validateForm;\nwindow.fixStepIndicator = fixStepIndicator;\nwindow.fixStepIndicator = fixStepIndicator;\nwindow.tot = tot;\n\n"]}